<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '3px' }"
></ngx-loading>

<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand text-uppercase" href="#">CoD Warzone Team Progress</a>
</nav>

<div class="container-fluid">
  <h1 class="mt-3 mb-3 title-default">
    Team Progress
    <a class="float-right" href="#" (click)="refresh($event)">Recarregar</a>
  </h1>
  <div class="row">
    <div class="col-sm-6 col-lg-4 col-xl-3" *ngFor="let player of players">
      <div class="card bg-dark mb-4">
        <div class="card-body">
          <div class="media mb-2">
            <img src="./assets/images/{{ player.playingPlatform }}.svg" width="24" class="mr-2">
            <div class="media-body">
              <h5 class="mt-0 ellipsis">
                [<span class="text-warning">{{ regimentCode }}</span>]
                {{ player.data.username }}
              </h5>
            </div>
          </div>
          <div class="card-text">
            <p class="subtitle-card">
              Overview
            </p>
            <div class="row custom-card-row">
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Wins</dt>
                  <dd class="ellipsis">{{ player.data.lifetime.mode.br_all.properties.wins }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Top 5</dt>
                  <dd class="ellipsis">{{ player.data.lifetime.mode.br_all.properties.topFive }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Top 10</dt>
                  <dd class="ellipsis">{{ player.data.lifetime.mode.br_all.properties.topTen }}</dd>
                </dl>
              </div>
            </div>

            <p class="subtitle-card">
              Progress
            </p>
            <div class="row custom-card-row">
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Kills</dt>
                  <dd class="ellipsis {{ getClassNum(getKillsProgress(player.data)) }}">{{ getKillsProgress(player.data) }}%</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Deaths</dt>
                  <dd class="ellipsis {{ getClassNum(getDeathsProgress(player.data), true) }}">{{ getDeathsProgress(player.data) }}%</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Ratio</dt>
                  <dd class="ellipsis {{ getClassNum(getRatioProgress(player.data)) }}">{{ getRatioProgress(player.data) }}%</dd>
                </dl>
              </div>
            </div>

            <!-- Weekly -->
            <p class="subtitle-card">
              Weekly
            </p>
            <div class="row custom-card-row">
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Kills</dt>
                  <dd class="ellipsis">{{ player.data.weekly.mode.br_all.properties.kills }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Deaths</dt>
                  <dd class="ellipsis">{{ player.data.weekly.mode.br_all.properties.deaths }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Ratio</dt>
                  <dd class="ellipsis">{{ getFormattedNumber(player.data.weekly.mode.br_all.properties.kdRatio) }}</dd>
                </dl>
              </div>
            </div>

            <!-- Lifetime -->
            <p class="subtitle-card">
              Lifetime
            </p>
            <div class="row custom-card-row">
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Kills</dt>
                  <dd class="ellipsis">{{ player.data.lifetime.mode.br_all.properties.kills }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Deaths</dt>
                  <dd class="ellipsis">{{ player.data.lifetime.mode.br_all.properties.deaths }}</dd>
                </dl>
              </div>
              <div class="col-4 custom-card-col">
                <dl class="label-info blue">
                  <dt class="ellipsis">Ratio</dt>
                  <dd class="ellipsis">{{ getFormattedNumber(player.data.lifetime.mode.br_all.properties.kdRatio) }}</dd>
                </dl>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>